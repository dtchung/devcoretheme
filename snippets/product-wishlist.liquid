{% include 'product-res-variables' %}
{%- assign image_size = image_size | default: '200x' -%}
{%- assign show_label_in_stock = false | default: settings.product_collection_show_label_in_stock -%}
{%- assign show_label_out_stock = true | default: settings.product_collection_show_label_out_stock -%}
{%- assign show_label_sale = true | default: settings.product_collection_show_label_sale -%}
{%- assign show_label_new = true | default: settings.product_collection_show_label_new -%}
{%- assign show_label_hot = true | default: settings.product_collection_show_label_hot -%}
{%- assign show_title = true | default: settings.product_collection_show_title -%}
{%- assign show_price = true | default: settings.product_collection_show_price -%}
{%- assign show_button_add_to_cart = true | default: settings.product_collection_show_button_add_to_cart -%}
{%- assign show_button_quick_view = true | default: settings.product_collection_show_button_quick_view -%}
{%- assign show_button_remove = true -%}
<div class="product-wishlist{% if settings.product_collection_centered_info %} product-wishlist--centered{% endif %} d-flex flex-column mb-30" data-js-product data-js-store-lists-product-wishlist data-product-handle="{{ product.handle }}" data-product-variant-id="{{ current_variant_id }}">
    <div class="product-wishlist__image product-image product-image--hover-{{ settings.product_hover_animation_type }} position-relative w-100 js-product-images-navigation js-product-images-hovered-end">
        {% assign image = product.featured_image.src %}
        {% assign ratio = image.aspect_ratio |default:1.0 %}
        <div class="lazyload nt_bg_lz pr_lazy_img" data-url-img ="{% if current_img_url != blank %}{{ current_img_url }} {% endif %}" data-bgset="{% if image != blank %}{{ image | img_url: '1x1' }}{% else %}https://placehold.it/1080x1080.png{% endif %}" data-ratio="{{ratio}}" data-sizes="auto"></div>     
             
        {%- if show_label_in_stock or show_label_out_stock or show_label_sale or show_label_new or show_label_hot -%}
            {%- assign label_present = true -%}
        {%- else -%}
            {%- assign label_present = false -%}
        {%- endif -%}
        {%- if label_present or show_button_quick_view -%}
            <div class="product-image__overlay-top position-absolute d-flex flex-wrap top-0 left-0 w-100 px-10 pt-10">
                <a href="{{ url }}" class="absolute-stretch cursor-default"></a>
                {%- if label_present -%}
                    <div class="product-image__overlay-top-left product-wishlist__labels position-relative d-flex flex-column align-items-start mb-10">
                        {% include 'product-get-label'%}
                    </div>
                {%- endif -%}
                {%- if show_button_quick_view -%}
                    <div class="product-image__overlay-top-right product-wishlist__button-quick-view position-lg-relative d-none d-lg-flex mb-lg-10 ml-lg-auto">
                        {% render 'product-get-button-quick-view' with product_enable_tooltips: product_enable_tooltips %}
                    </div>
                {%- endif -%}
            </div>
        {%- endif -%}
    </div>
    <div class="product-wishlist__content">        
        {%- if product.collections.size > 0 -%}
        <div class="product-collection__more-info mb-3">
          {% render 'product-get-collections' with product: product %}
        </div>
        {%- endif -%}        
        {%- if show_title -%}
            <div class="product-wishlist__title mb-3">
                <h3 class="m-0">
                    <a href="{{ url }}">{{ title }}</a>
                </h3>
            </div>
        {%- endif -%}
        {%- if show_price -%}
            <div class="product-wishlist__price mb-10">
                {% render 'product-get-price' with price: price compare_at_price: compare_at_price %}
            </div>
        {%- endif -%}
        {% form "product", product, id: null, class: "d-flex flex-column w-100 m-0", data-js-product-form: '' %}
            {%- if show_button_add_to_cart -%}
                <div class="product-wishlist__variants d-none">
                    {% render 'product-get-variants' with product: product current_variant: current_variant show_options: show_options show_custom_options: show_custom_options %}
                </div>
            {%- endif -%}
            {%- if show_button_add_to_cart or show_button_quick_view -%}
                <div class="product-wishlist__buttons d-flex flex-column flex-lg-row align-items-lg-center flex-wrap mt-5 mt-lg-10">
                    {%- if show_button_add_to_cart -%}
                        <div class="product-wishlist__button-add-to-cart mb-10">
                            {% include 'product-get-button-cart' %}
                        </div>
                    {%- endif -%}
                    {%- if show_button_quick_view -%}
                        <div class="product-collection__buttons-section d-flex d-lg-none px-lg-10">
                            <div class="product-wishlist__button-quick-view-mobile mb-10">
                                {% render 'product-get-button-quick-view' with type: 'btn-text' product_enable_tooltips: product_enable_tooltips %}
                            </div>
                        </div>
                    {%- endif -%}
                </div>
            {%- endif -%}
        {% endform %}
        {%- if show_button_remove -%}
            <div class="product-wishlist__remove btn-link js-store-lists-remove-wishlist">{{ 'products.product.remove' | t }}</div>
        {%- endif -%}
    </div>
</div>